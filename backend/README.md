If Scala 3 is a good choice?

### TODO

- [ ] create IpArrange util to handle all, should be careful use. 